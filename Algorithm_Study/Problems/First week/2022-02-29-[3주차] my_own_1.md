# [3ì£¼ì°¨] ì•Œê³ ë¦¬ì¦˜ my own ì²« ë²ˆì§¸ ë¬¸ì œ

## ğŸ’¬ [Leetcode - High Five](https://leetcode.com/problems/high-five/) 

### ğŸ“„ ë¬¸ì œ ì„¤ëª…  

Given a list of the scores of different students, `items`, where `items[i] = [IDi, scorei]` represents one score from a student with `IDi`, calculate each studentâ€™s **top five average**.

Return *the answer as an array of pairs `result`, where `result[j] = [IDj, topFiveAveragej]` represents the student with IDj and their <strong>top five average</strong>. Sort `result` by `IDj` in <strong>increasing order</strong>*.

A studentâ€™s <strong>top five average</strong> is calculated by taking the sum of their top five scores and dividing it by 5 using <strong>integer division</strong>.

### â›”ï¸ ì œí•œì‚¬í•­
- 1 <= words.length <= 100
- 1 <= words[i].length <= 12
- words[i] consists of lowercase English letters.

### ğŸ’­ ì…ì¶œë ¥ ì˜ˆ

<div class="notice--primary" markdown="1">
ğŸŒ <u>ì…ì¶œë ¥ ì˜ˆ #1</u>     

[ì…ë ¥]   

   ```python
items = [[1,91],[1,92],[2,93],[2,97],[1,60],[2,77],[1,65],[1,87],[1,100],[2,100],[2,76]]
   ```             
      
    
[ì¶œë ¥]    

   ```python    
[[1,87],[2,88]]       
   ```
</div>   


<div class="notice--primary" markdown="1">
ğŸŒ <u>ì…ì¶œë ¥ ì˜ˆ #2</u>     

[ì…ë ¥]   

   ```python
items = [[1,100],[7,100],[1,100],[7,100],[1,100],[7,100],[1,100],[7,100],[1,100],[7,100]]    
   ```             
      
    
[ì¶œë ¥]    

   ```python    
[[1,100],[7,100]]     
   ```
   
</div>    

### âœï¸ Question Clarifying & Time, Space Complexity 


   ```python
"""
const template = {
  firstStep: {
    I: list of the scores of different students(items[i] = [IDi, scorei] -> represents one score from a student with IDi), 
    O: array of each student's top five average, 
    C: 1 <= items.length <= 1000, items[i].length == 2, 1 <= IDiÂ <= 1000, 0 <= scoreiÂ <= 100, For eachÂ IDi, there will beÂ at leastÂ five scores.
    E: ?
  },
  secondStep: {
    DS: 'HashTable',
    Alg: '1 ë”°ë¡œ 2 ë”°ë¡œ..etc.. -> ì •ë ¬ -> 5ê°œë§Œ ê³¨ë¼ì„œ average êµ¬í•œë‹¤.',
    bruteForce: solution = () => {
        // pseudo code
        1 ë”°ë¡œ 2 ë”°ë¡œ..etc..
        ì •ë ¬
        5ê°œë§Œ ê³¨ë¼ì„œ average êµ¬í•œë‹¤.
    }
    time: O(N +K(MlogM)) -> ì—¬ê¸°ì„œ Mì€ ê°€ì¥ ë§ì€ ì ìˆ˜ ê°œìˆ˜, KëŠ” student ì¢…ë¥˜
    space: O(N) -> O(K)ì´ì§€ë§Œ, ìµœì•…ì˜ ê²½ìš° Nì´ë¯€ë¡œ
  },
  thirdStep: {
    DS: 'HashTable',
    Alg: 'ì •ë ¬ ëŒ€ì‹  heapq',
    optimalSolution: solution = () => {
        // pseudo code
        1 ë”°ë¡œ 2 ë”°ë¡œ..etc.. by heapq
      5ê°œë§Œ ê³¨ë¼ì„œ average êµ¬í•œë‹¤.
    },
    time: O(),
    space: O(),
  },
  fourthStep: {
    actualSolution: () => {
      /// Actual Code
      ì•„ë˜ì—ì„œ í™•ì¸!
    }
  },
  fifthStep: {
    testCases: (givenInput, expectedOutput, func) => {

      const result = func(givenInput)
      if(result === expectedOutput) {
         println(`SUCCESS(O)`)
      } else {
         println(`FAILED(X)`)
      }
      
    }
    ì„±ê³µ..!
  }
}
"""
   ```

### âœï¸ First Thought Solution(Explanation) 

**"<u>HashTable</u>"**ì„ ì‚¬ìš©í•˜ëŠ” ë¬¸ì œ.    

```python
class Solution1(object):
    def highFive(self, items):
```   

ê°ê°ì˜ `item`ë“¤ì„ ì²«ë²ˆì§¸ ê°’ì— ë”°ë¼ ì €ì¥í•  `hashTable`ë„ ìƒì„±í•´ì£¼ê³ , ë§ˆì§€ë§‰ì— ë¦¬í„´í•  `result` listë„ ì„ ì–¸í•˜ê³  ì´ˆê¸°í™”í•´ì¤€ë‹¤.             
 
   ```python
hashTable = {}
        
result = []
   ```

ë‹¤ìŒìœ¼ë¡œëŠ” `items`ë¥¼ ëŒë©´ì„œ ì²«ë²ˆì§¸ ê°’ì´ `hashTable`ì— ìˆëŠ”ì§€ í™•ì¸ í›„, ì—†ìœ¼ë©´ ë§Œë“  í›„ `hashTable`ì— ì¶”ê°€, ìˆë‹¤ë©´ `append`í•˜ëŠ” í˜•ì‹ì˜ ì‘ì—…ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ì.   

   ```python
# O(N)
for n in items:
	if n[0] not in hashTable:
		hashTable[n[0]] = [n[1]]
	else:
		hashTable[n[0]].append(n[1])
   ```

ì´ì œ ê·¸ `hashTable`ì˜ `items`ë¥¼ ëŒë©´ì„œ `value`, ì¦‰, í•™ìƒì´ ê°™ì€ `list` ê°’(scores)ì„ ì •ë ¬í•˜ê³ , ì´ë“¤ ì¤‘ ê°€ì¥ í° 5ê°œì˜ ê°’ë“¤ì˜ `average`ë¥¼ êµ¬í•œ í›„, ì¡°ê±´ì— ë§ëŠ” í˜•ì‹ìœ¼ë¡œ `result` listì— `append` í•˜ë©´ ëœë‹¤.    
ìì„¸í•œ ì„¤ëª…ì€ ì•„ë˜ ì½”ë“œì˜ ì£¼ì„ ì°¸ê³ .
      
 
   ```python
# O(K*MlogM), K = keyì˜ ê°œìˆ˜, M = valueì˜ ê°œìˆ˜ 
for key, value in hashTable.items():
	# O(MlogM)
	value.sort(reverse=True)
	# O(5) -> listì˜ ê¸¸ì´ê°€ ì–¼ë§ˆë‚˜ ëŠ˜ì–´ë‚˜ë“  í•­ìƒ ê³ ì • -> O(1)
	topFive = value[:5]
	# sum & append -> O(5) -> í•­ìƒ ê¸¸ì´ ì¼ì • -> O(1)
	result.append([key, sum(topFive)/5])   ```

ë§ˆì§€ë§‰ìœ¼ë¡œ `result`ë¥¼ ë¦¬í„´í•´ì£¼ë©´ ë!    
     
   ```python
return result
   ```

     
### âœï¸ Final Code of First Thought

   ```python
class Solution1(object):
    def highFive(self, items):

        hashTable = {}
        
        result = []

        for n in items:
            if n[0] not in hashTable:
                hashTable[n[0]] = [n[1]]
            else:
                hashTable[n[0]].append(n[1])

        
        for key, value in hashTable.items():
            value.sort(reverse=True)
            topFive = value[:5]
            result.append([key, sum(topFive)/5])
        
        return result
   ```
   
### âœï¸ Second Thought Solution(Explanation)                 

í›„ì— ì •ë ¬í•˜ëŠ” ëŒ€ì‹ , heapq ìì²´ì— ë„£ì–´ ì •ë ¬ë˜ê²Œ í•œ í›„, ë§ˆì§€ë§‰ì—ëŠ” ë‹¨ìˆœíˆ 5ê°œë§Œ ë½‘ì•„ì˜¤ëŠ” ë°©ì‹...!    

<div class="notice--primary" markdown="1">
ğŸ’¡ <strong><u>ì¶”ê°€ ì§€ì‹!</u> Heapq</strong>   

heapq ëª¨ë“ˆì€ ì´ì§„ íŠ¸ë¦¬(binary tree) ê¸°ë°˜ì˜ ìµœì†Œ í™(min heap) ìë£Œêµ¬ì¡°ë¥¼ ì œê³µí•©ë‹ˆë‹¤.          
min heapì„ ì‚¬ìš©í•˜ë©´ ì›ì†Œë“¤ì´ í•­ìƒ ì •ë ¬ëœ ìƒíƒœë¡œ ì¶”ê°€ë˜ê³  ì‚­ì œë˜ë©°, min heapì—ì„œ ê°€ì¥ ì‘ì€ê°’ì€ ì–¸ì œë‚˜ ì¸ë±ìŠ¤ 0, ì¦‰, ì´ì§„ íŠ¸ë¦¬ì˜ ë£¨íŠ¸ì— ìœ„ì¹˜í•©ë‹ˆë‹¤. ë‚´ë¶€ì ìœ¼ë¡œ min heap ë‚´ì˜ ëª¨ë“  ì›ì†Œ(k)ëŠ” í•­ìƒ ìì‹ ì›ì†Œë“¤(2k+1, 2k+2) ë³´ë‹¤ í¬ê¸°ê°€ ì‘ê±°ë‚˜ ê°™ë„ë¡ ì›ì†Œê°€ ì¶”ê°€ë˜ê³  ì‚­ì œë©ë‹ˆë‹¤.    

<code>
     1  ---> root    
   /   \    
  3     5    
 / \   /    
4   8 7    
</code>

heapq.heappush() : O(logN) ê¸°ì–µí•˜ì§€?      
heapq.heappop() : O(logN)   

ì´ë¯¸ ì›ì†Œê°€ ë“¤ì–´ìˆëŠ” ë¦¬ìŠ¤íŠ¸ í™ìœ¼ë¡œ ë§Œë“¤ë ¤ë©´ heapq ëª¨ë“ˆì˜ heapify()ë¼ëŠ” í•¨ìˆ˜ì— ì‚¬ìš©í•˜ë©´ ë¨.     

heapq ëª¨ë“ˆì€ ìµœì†Œ í™(min heap)ì„ ê¸°ëŠ¥ë§Œì„ ë™ì‘í•˜ê¸° ë•Œë¬¸ì— ìµœëŒ€ í™(max heap)ìœ¼ë¡œ í™œìš©í•˜ë ¤ë©´ ì•½ê°„ì˜ ìš”ë ¹ì´ í•„ìš”í•©ë‹ˆë‹¤. ë°”ë¡œ í™ì— íŠœí”Œ(tuple)ë¥¼ ì›ì†Œë¡œ ì¶”ê°€í•˜ê±°ë‚˜ ì‚­ì œí•˜ë©´, íŠœí”Œ ë‚´ì—ì„œ ë§¨ ì•ì— ìˆëŠ” ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ìµœì†Œ í™ì´ êµ¬ì„±ë˜ëŠ” ì›ë¦¬ë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.     

ë”°ë¼ì„œ, ìµœëŒ€ í™ì„ ë§Œë“¤ë ¤ë©´ ê° ê°’ì— ëŒ€í•œ ìš°ì„  ìˆœìœ„ë¥¼ êµ¬í•œ í›„, (ìš°ì„  ìˆœìœ„, ê°’) êµ¬ì¡°ì˜ íŠœí”Œ(tuple)ì„ í™ì— ì¶”ê°€í•˜ê±°ë‚˜ ì‚­ì œí•˜ë©´ ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  í™ì—ì„œ ê°’ì„ ì½ì–´ì˜¬ ë•ŒëŠ” ê° íŠœí”Œì—ì„œ ì¸ë±ìŠ¤ 1ì— ìˆëŠ” ê°’ì„ ì·¨í•˜ë©´ ë©ë‹ˆë‹¤. (ìš°ì„  ìˆœìœ„ì—ëŠ” ê´€ì‹¬ì´ ì—†ìœ¼ë¯€ë¡œ )      

</div>
      
 
   ```python
# ì´ê²ƒë„ ê¹¨ì•Œ ì§€ì‹. defaultdict ì´ˆê¸°ê°’ ì •í•´ì§.
scores = collections.defaultdict(list)
        
# O(NlogN)
for item in items: 
	# ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬ì„ í•˜ê³  ì‹¶ê¸°ì— (Max heap) - ë¶€í˜¸ë¥¼ ë¶™ì—¬ì„œ ì €ì¥          
	heapq.heappush(scores[item[0]], -item[1])
        
	results = []        
        
	# ëŒë©´ì„œ ë‹¨ìˆœíˆ 5ê°œ heap popí•˜ë©´ ë¨. resultsì—ë„ heappush
	for key, value in scores.items():
		sum = 0            
		for i in range(5):
			sum += -heapq.heappop(value)
            
			average = sum // 5
            
			heapq.heappush(results, [key, average])
            
   ```
     
### âœï¸ Final Code of Second Thought

   ```python
class Solution2:
    def highFive(self, items):
        
        scores = collections.defaultdict(list)
        
        for item in items:           
            heapq.heappush(scores[item[0]], -item[1])
        
        results = []        
        
        for key, value in scores.items():
            sum = 0            
            for i in range(5):
                sum += -heapq.heappop(value)
            
            average = sum // 5
            
            heapq.heappush(results, [key, average])
            
        return results
   ```

<div class="notice--primary" markdown="1">
ğŸŒŸ <strong>[10ì£¼ì°¨] my_own_1ì˜ <u>í¬ì¸íŠ¸</u></strong>    

- ë‹¹ì—°íˆ ì¼ë‹¨.. HashTable    
- collection.defaultdict()    
- heapq  
- ìŠ¬ë¼ì´ì‹± TimeComplexity = O(M) : ìŠ¬ë¼ì´ì‹± ë¶€ë¶„ì˜ ê¸¸ì´ë§Œí¼ Not O(N)!   
- Sum()
     
</div>
